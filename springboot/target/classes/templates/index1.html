<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
       xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
       layout:decorate="layout">
    <head>
        <meta charset="utf-8" />
        <!--<meta http-equiv="X-UA-Compatible" content="IE=edge"/>-->
        <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui"/>-->
        <title>凤凰后台服务</title>
        <!--<meta content="Admin Dashboard" name="description" />-->
        <!--<meta content="Mannatthemes" name="author" />-->
        <!--<meta http-equiv="X-UA-Compatible" content="IE=edge" />-->

        <link rel="shortcut icon" href="assets/images/favicon.ico"/>

        <!-- jvectormap -->
        <link href="assets/plugins/jvectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet"/>

        <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/css/icons.css" rel="stylesheet" type="text/css"/>
        <link href="assets/css/style.css" rel="stylesheet" type="text/css"/>

        <style>
            #msg{
                width:266px;
                position: fixed;
                z-index:999;
                top: 49%;
                margin-top:-80px;
                left:50%;
                margin-left:-133px;
                background:#fff;
                box-shadow:5px 5px 8px #999;
                font-size:17px;
                color:#666;
                border:1px solid #f8f8f8;
                text-align: center;
                line-height: 2rem;
                display:inline-block;
                padding-bottom:20px;
                border-radius:2px;
            }
            #msg_top{
                background:#f8f8f8;
                padding:5px 15px 5px 20px;
                text-align:left;
            }
            #msg_top span{
                font-size:22px;
                float:right;
                cursor:pointer;
            }
            #msg_cont{
                padding:15px 20px 20px;
                text-align:left;
            }
            #msg_clear{
                display:inline-block;
                color:#fff;
                padding:1px 15px;
                background:#8fc31f;
                border-radius:2px;
                float:right;
                margin-right:15px;
                cursor:pointer;
            }
        </style>
        <script>
            function alert(e){
                $("body").append('<div id="msg"><div id="msg_top">信息<span class="msg_close">×</span></div><div id="msg_cont">'+e+'</div><div class="msg_close" id="msg_clear">确定</div></div>');
                $(".msg_close").click(function (){
                    $("#msg").remove();
                });
            }
        </script>
    </head>


    <body class="fixed-left">
    <!--<h1 th:text="${msg}">Hello World</h1>-->
        <!-- Loader -->
        <!--<div id="preloader"><div id="status"><div class="spinner"></div></div></div>-->

        <!-- Begin page -->
        <div id="wrapper">


            <!-- Start right Content here -->

            <div class="content-page">
                <!-- Start content -->
                <ul class="list-inline menu-left mb-0">
                    <!--<li class="float-left">-->
                        <!--<button class="button-menu-mobile open-left waves-light waves-effect">-->
                            <!--<i class="mdi mdi-menu"></i>-->
                        <!--</button>-->
                    <!--</li>-->
                    <li class="hide-phone app-search">
                        <form id="bd" name="bd" action="append.do" method="post" >
                            <!--<input id="word" name="word"  placeholder="追加词..." />-->
                            <label>请输入远程扩展词:</label>
                            <textarea id="word" name="word"  placeholder="追加词..."></textarea>
                            <!--<input type="button" value="提交" onclick="apeendWord()"/>-->
                            <input type="button" value="提交" onclick="apeendWord()"/>
                            <!--<a href=""><i class="fa fa-search"></i></a>-->
                        </form>
                        <!--<iframe name="myIframe" style="display:none"></iframe>-->
                    </li>
                    <!--<li class="hide-phone app-search">-->
                        <!--<form action="update.do" method="post" enctype="multipart/form-data">-->
                            <!--<input id="update" type="file" name="file" onchange="fileSelected()"/>-->
                            <!--<input type="button" value="提交" onclick="uploadFile1()"/>-->
                            <!--&lt;!&ndash;<input type="submit" value="提交"/>&ndash;&gt;-->
                            <!--&lt;!&ndash;<a href=""><i class="fa fa-search"></i></a>&ndash;&gt;-->
                            <!--<div id="fileName"></div>-->
                            <!--<div id="fileSize"></div>-->
                            <!--<div id="fileType"></div>-->
                            <!--<div id="progressNumber"></div>-->
                        <!--</form>-->
                    <!--</li>-->
                    <li class="hide-phone app-search">
                        <form action="update.do" method="post" enctype="multipart/form-data">
                            <label>请选择远程扩展词文件:</label>
                            <div>
                            <input type="file" id="file_upload"/>
                            <input type="button" value="上传" id="upload"/>
                            <div style="background:#848484;width:100px;height:10px;margin-top:5px">
                                <div id="progressNumber" style="background:#428bca;width:0px;height:10px" >
                                </div>
                            </div>
                            <font id="percent">0%</font>
            </div>
                        </form>
                    </li>
                </ul>

                <!--<div class="clearfix"></div>-->


            </div>
            <!--<ul class="list-inline menu-left mb-0">-->
                <!--<li class="float-left">-->
                    <!--<button class="button-menu-mobile open-left waves-light waves-effect">-->
                        <!--<i class="mdi mdi-menu"></i>-->
                    <!--</button>-->
                <!--</li>-->
                <!--<li class="hide-phone app-search">-->
                    <!--<form role="search1" class="">-->
                        <!--<input type="text" placeholder="Search..." class="form-control"/>-->
                        <!--<a href=""><i class="fa fa-search"></i></a>-->
                    <!--</form>-->
                <!--</li>-->
            <!--</ul>-->

            <!-- Top Bar End -->

                <footer class="footer">
                    <!--© 2018 Annex by Mannatthemes. 更多模板：<a href="http://www.mycodes.net/" target="_blank">源码之家</a>-->
                </footer>
        </div>
        <!-- END wrapper -->


        <!-- jQuery  -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/popper.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/modernizr.min.js"></script>
        <script src="assets/js/detect.js"></script>
        <script src="assets/js/fastclick.js"></script>
        <script src="assets/js/jquery.slimscroll.js"></script>
        <script src="assets/js/jquery.blockUI.js"></script>
        <script src="assets/js/waves.js"></script>
        <script src="assets/js/jquery.nicescroll.js"></script>
        <script src="assets/js/jquery.scrollTo.min.js"></script>

        <!--&lt;!&ndash;Morris Chart&ndash;&gt;-->
        <!--<script src="assets/plugins/flot-chart/jquery.flot.min.js"></script>-->
        <!--<script src="assets/plugins/flot-chart/jquery.flot.time.js"></script>-->
        <!--<script src="assets/plugins/flot-chart/curvedLines.js"></script>-->
        <!--<script src="assets/plugins/flot-chart/jquery.flot.pie.js"></script>-->
        <!--<script src="assets/plugins/morris/morris.min.js"></script>-->
        <!--<script src="assets/plugins/raphael/raphael-min.js"></script>-->
        <!--<script src="assets/plugins/jquery-sparkline/jquery.sparkline.min.js"></script>-->
        <!---->
        <!--<script src="assets/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>-->
        <!--<script src="assets/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>-->


        <!--<script src="assets/pages/crypto-dash.init.js"></script>-->

        <!--&lt;!&ndash; App js &ndash;&gt;-->
        <!--<script src="assets/js/app.js"></script>-->
        <!--<script>-->
             <!---->
            <!--$(document).ready(function() {-->
            <!--$("#boxscroll").niceScroll({cursorborder:"",cursorcolor:"#cecece",boxzoom:true});-->
            <!--$("#boxscroll2").niceScroll({cursorborder:"",cursorcolor:"#cecece",boxzoom:true});-->
            <!--});-->

        <!--</script>-->
    <script  type="text/javascript">


        function bdtj() {
            document.bd.submit()
        }
        // function bdtj() {
        //     var word = document.getElementById("word");
        //     $.ajax({
        //         type: "POST",
        //         url: "append.do",
        //         data: word,
        //         success: function(data){
        //             alert("yes")
        //         }
        //     });
        // }
        function apeendWord() {
            var word = document.getElementById("word");
            if(word.value == null || word.value == ""){
                alert("ERROR append word is null!")
                return
            }
            var xmlhttp;
            if (window.XMLHttpRequest)//检查是否有XMLHttpRequest对象
            {
                // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
                xmlhttp=new XMLHttpRequest();
            }
            else
            {
            }
//                1、上面是创建XMLHttpRequest对象
            xmlhttp.open("POST","append.do",false);// 2、open方法表示初始化请求，此时并没有发送。
            xmlhttp.setRequestHeader("Content-type","application/json");
            var params = {"word":word.value}
            xmlhttp.send( JSON.stringify(params));//4、发送请求
            alert(xmlhttp.responseText)
        }

//            function fileSelected() {
//                var file = document.getElementById('update').files[0];
//                if (file) {
//                    var fileSize = 0;
//                    if (file.size > 1024 * 1024)
//                        fileSize = (Math.round(file.size * 100 / (1024 * 1024)) / 100).toString() + 'MB';
//                    else
//                        fileSize = (Math.round(file.size * 100 / 1024) / 100).toString() + 'KB';
//
//                    document.getElementById('fileName').innerHTML = 'Name: ' + file.name;
//                    document.getElementById('fileSize').innerHTML = 'Size: ' + fileSize;
//                    document.getElementById('fileType').innerHTML = 'Type: ' + file.type;
//                }
//            }
//            function uploadFile1() {
////                alert("111")
//                var xhr = new XMLHttpRequest();
//                var fd = document.getElementById('update').files[0];
//
//                /* event listners */
//                xhr.upload.addEventListener("progress", uploadProgress, false);
//                xhr.addEventListener("load", uploadComplete, false);
//                xhr.addEventListener("error", uploadFailed, false);
//                xhr.addEventListener("abort", uploadCanceled, false);
//                /* Be sure to change the url below to the url of your upload server side script */
//                xhr.open("POST", "update.do");
////                xhr.
//                xhr.setRequestHeader("Content-type","multipart/form-data;boundary=ABCD")
//                xhr.send(fd);
//            }
//
//            function uploadProgress(evt) {
//                if (evt.lengthComputable) {
//                    var percentComplete = Math.round(evt.loaded * 100 / evt.total);
//                    document.getElementById('progressNumber').innerHTML = percentComplete.toString() + '%';
//                }
//                else {
//                    document.getElementById('progressNumber').innerHTML = 'unable to compute';
//                }
//            }
//
            function uploadComplete(evt) {
                /* This event is raised when the server send back a response */
                alert(evt.target.responseText);
            }

            function uploadFailed(evt) {
                alert("There was an error attempting to upload the file.");
            }

            function uploadCanceled(evt) {
                alert("The upload has been canceled by the user or the browser dropped the connection.");
            }

            var file = null;
            $(function(){
                $("#upload").click(function(){
                    upload();
                });
            });
            var input = document.getElementById("file_upload");

            //文件域选择文件时, 执行readFile函数
            input.addEventListener('change',readFile,false);

            function readFile(){
                file = this.files[0];
            }
            //上传文件
            function upload(){
                var xhr = new XMLHttpRequest();

                var fd = new FormData();

                fd.append("fileName", file);

                //监听事件
                xhr.upload.addEventListener("progress", uploadProgress, false);
                xhr.addEventListener("load", uploadComplete, false);
                xhr.addEventListener("error", uploadFailed, false);
                xhr.addEventListener("abort", uploadCanceled, false);
                //发送文件和表单自定义参数
                xhr.open("POST", "update.do",true);

                xhr.send(fd);
            }

            function uploadProgress(evt){
                if (evt.lengthComputable) {
                    //evt.loaded：文件上传的大小   evt.total：文件总的大小
                    var percentComplete = Math.round((evt.loaded) * 100 / evt.total);
                    //加载进度条，同时显示信息
                    $("#percent").html(percentComplete + '%')
                    $("#progressNumber").css("width",""+percentComplete+"px");

                }
            }

    </script>

    </body>
</html>